---
###############################################################################
# Navidrome Service Configuration
###############################################################################
# Install size: ~795MB
#      ffpmeg: ~683MB.
#         mpv: ~50MB.
#   navidrome: ~60MB.

# Navidrome Release.
#
# Versions (Schematic):
#       MAJOR: Safe - Usually requires no role updates.
#       MINOR: Safe - Usually requires no role updates.
#       PATCH: Safe - Usually requires no role updates.
#   RECOMMEND: Always check release notes when upgrading versions - most
#              version changes require manual migration of data store. Never
#              use 'latest'.
#
# Values:
#   {VERSION}: Tagged release to use ('v0.58.0').
#      latest: Use latest stable release.
#
# Default: 'v0.58.0'.
#
# Reference:
# * https://github.com/mjl-/mox/releases
navidrome_srv_version: 'v0.58.0'

# Halt role if specified version != role version?
#
# Navidrome upgrades generally require manual upgrade steps listed in release
# notes.
#
# Default: True.
#
# Reference:
# * https://github.com/mjl-/mox/releases
navidrome_srv_version_fatal_enable: true

###############################################################################
# Navidrome User
###############################################################################

# User that Navidrome will run under.
#
# Enable navidrome_srv_create_user if account is not externally managed.
#
# Default: 'mox'.
navidrome_srv_user: 'navidrome'

# Group that Navidrome will run under.
#
# Enable navidrome_srv_create_user if group is not externally managed.
#
# Default: 'mox'.
navidrome_srv_group: 'navidrome'

# Create navidrome_srv_user, navidrome_srv_group if not detected?
#
# Applied via r_pufky.deb.users, see vars/main.yml for default user attributes.
#
# Default: True.
navidrome_srv_create_user: true

###############################################################################
# Media Permissions
###############################################################################

# Enable user management of data/media files?
#
# Use navidrome_srv_user to execute data/media management commands. Role
# applies media permissions using 'root' by default. For mounted data locations
# (NFS with squashed mounts, mapped container mounts, etc) the local root user
# will not have sufficient privileges to modify these files.
#
# Applies to:
# * navidrome_cfg_music_folder
# * navidrome_cfg_data_folder
# * navidrome_cfg_backup_path
#
# Default: True.
navidrome_srv_user_data_manage_enable: true
